apiVersion: v1
kind: ConfigMap
metadata:
  name: bidder-config
data:
  appsettings.json: |
    {
      "Logging": {
        "LogLevel": {
          "Default": "Information",
          "System": "Information",
          "Microsoft": "Warning"
        }
      },
      "runtimeOptions": {
        "configProperties": {
          "System.GC.Server": true,
          "System.GC.Concurrent": true
        }
      },
      "AllowedHosts": "*",
      "rabbit": {
        "host": "rabbitmq.lucent.svc",
        "user": "{{ .Values.rabbitmq.user }}",
        "credentials": "{{ .Values.rabbitmq.password }}",
        "clusters": {
          "secondary" : {
            "user": "{{ .Values.rabbitmq.user }}",
            "credentials": "{{ .Values.rabbitmq.password }}",
            "host": "{{ .Values.rabbitmq.secondaryHost }}"
          }
        }
      },
      "load_shedding": {
        "strategy": "Head",
        "maxlatencyms": 100,
        "maxconcurrentrequests": 8,
        "maxqueuedepth": 12,
        "statuscode": 204,
        "isadaptive": true
      },
      "cassandra": {
        "endpoint": "cassandra.lucent.svc",
        "user": "{{ default "test" .Values.cassandra.user }}",
        "credentials": "{{ default "test" .Values.cassandra.password }}",
        "keyspace": "{{ default "portal" .Values.cassandra.keyspace }}",
        "format": "{{ default "PROTOBUF" .Values.cassandra.format }}"
      },
      "exchanges" : {
        "exchangelocation": "/etc/exchanges"
      }
    }
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: exchanges
binaryData:
  SimpleExchange.dll: TVqQAAMAAAAEAAAA//8AALgAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAA4fug4AtAnNIbgBTM0hVGhpcyBwcm9ncmFtIGNhbm5vdCBiZSBydW4gaW4gRE9TIG1vZGUuDQ0KJAAAAAAAAABQRQAATAEDAAD1s/EAAAAAAAAAAOAAIiALATAAACoAAAAGAAAAAAAASkgAAAAgAAAAYAAAAAAAEAAgAAAAAgAABAAAAAAAAAAEAAAAAAAAAACgAAAAAgAAAAAAAAMAQIUAABAAABAAAAAAEAAAEAAAAAAAABAAAAAAAAAAAAAAAPdHAABPAAAAAGAAAFgDAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAwAAADsRgAAVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAACAAAAAAAAAAAAAAACCAAAEgAAAAAAAAAAAAAAC50ZXh0AAAAUCgAAAAgAAAAKgAAAAIAAAAAAAAAAAAAAAAAACAAAGAucnNyYwAAAFgDAAAAYAAAAAQAAAAsAAAAAAAAAAAAAAAAAABAAABALnJlbG9jAAAMAAAAAIAAAAACAAAAMAAAAAAAAAAAAAAAAAAAQAAAQgAAAAAAAAAAAAAAAAAAAAArSAAAAAAAAEgAAAACAAUA/CcAAPAeAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMwBQCjAAAAAQAAEQIDKAEAACt9AQAABAIDKAIAACt9AgAABAIDKAMAACt9AwAABAIDKAQAACt9BAAABAIDKAUAACt9BgAABAJ7AQAABCgGAAArCgJ7BwAABAZvEgAACm8TAAAKAv4GCwAABnMUAAAKKAcAACtvFgAACgICewIAAARyAQAAcBZyEwAAcG8IAAArfQUAAAQCewUAAAQC/gYCAAAGcxgAAApvGQAACioAEzAGAF0AAAACAAARcwwAAAYKBgJ9CAAABAJ7BgAABHIpAABwF40MAAABJRYDbxoAAAqiKBsAAAoGA28cAAAKfQkAAAQGewkAAAQsHCgdAAAKBv4GDQAABnMeAAAKbwkAACsoIAAACiYqChcqGnJbAABwKhogAAAAgCoucnkAAHAoIQAACioAABMwAgBJAAAAAwAAERIAAn0WAAAEEgADfRQAAAQSAAR9FQAABBIAKCIAAAp9EwAABBIAFX0SAAAEBnsTAAAECxIBEgAoCgAAKxIAfBMAAAQoJAAACioKFyoTMAYA1AAAAAQAABFzJQAACiUoJgAACm8nAAAKJQNvKAAACm8pAAAKKCEAAApvKgAACiUDbysAAApvLAAACighAAAKby0AAAolAigGAAAGby4AAAolA28oAAAKby8AAApvMAAACgoDbzEAAApvMgAACgsHFy4GBxguSitbA28oAAAKAwZzMwAACiUEbzQAAApvNQAACm82AAAKJQRvNAAACm83AAAKDBICKDgAAApvOQAACm86AAAKKDsAAApvPAAACisVA28oAAAKAyg9AAAKbzwAAAorAhQqA28oAAAKKkoCcz4AAAp9BwAABAIoPwAACio2AnsEAAAEA29AAAAKKh4CKD8AAAoqAAAAEzACADkAAAAFAAAREgACfR0AAAQSAChBAAAKfRwAAAQSABV9GwAABAZ7HAAABAsSARIAKAsAACsSAHwcAAAEKEMAAAoqdgNvRAAACm8sAAAKAnsJAAAEbywAAAoZb0UAAAoqHgIoPwAACipOAwJ7CwAABAJ7DAAABG9GAAAKKk4Cew0AAAQDAnsMAAAEKAkAAAYqLnMTAAAGgA8AAAQqHgIoPwAACiouA29HAAAKjhb+AyoeA29HAAAKKgAbMAYAfQIAAAYAABECexIAAAQKAnsWAAAECwY59QAAAAJzDwAABn0XAAAEAnsXAAAEAnsUAAAEfQsAAAQCexcAAAQCexUAAAR9DAAABAJ7FwAABAJ7FgAABH0NAAAEB3sHAAAEb0gAAAotBxQM3QICAAACc0kAAAolGm9KAAAKJQJ7FwAABHsLAAAEb0sAAApvTAAACiUoTQAAChMEEgT+FhoAAAFvTgAACm9PAAAKfRgAAAQCB3sHAAAEAnsXAAAE/gYQAAAGc1AAAAooDAAAK30ZAAAEAnsZAAAEKA0AACtvUgAAChMFEgUoUwAACi1BAhYlCn0SAAAEAhEFfRoAAAQCfBMAAAQSBQIoDgAAK91zAQAAAnsaAAAEEwUCfBoAAAT+FQ0AABsCFSUKfRIAAAQSBShVAAAKJnNWAAAKDQJ7GQAABH4QAAAEJS0XJn4PAAAE/gYUAAAGc1cAAAolgBAAAAQoDwAAK34RAAAEJS0XJn4PAAAE/gYVAAAGc1kAAAolgBEAAAQoEAAAK29aAAAKEwYrfxEGb1sAAAoTBxEHKBEAACtvKwAAChMIc10AAAolEQhvXgAACm9fAAAKJREHAnsXAAAEew4AAAQlLSImAnsXAAAEAnsXAAAE/gYRAAAGc2AAAAolEwp9DgAABBEKKBIAACsoEwAAK29iAAAKEwkRCW9jAAAKjiwICREJb2QAAAoRBm9lAAAKOnX////eEAYWLwsRBiwHEQZvZgAACtwJb2cAAAoWMRoCexgAAAQJb2gAAApvaQAACgJ7GAAABAzeHRQM3hkTCwIf/n0SAAAEAnwTAAAEEQsoagAACt4UAh/+fRIAAAQCfBMAAAQIKGsAAAoqAAAAQTQAAAIAAACJAQAAjwAAABgCAAAQAAAAAAAAAAAAAAAOAAAAQQIAAE8CAAAZAAAALgAAATYCfBMAAAQDKGwAAAoqAAAbMAYASgEAAAcAABECexsAAAQKAnsdAAAECwY5wQAAAAd7CAAABHsGAAAEcsMAAHAXjQwAAAElFgd7CQAABG8sAAAKoigbAAAKB3sIAAAEewcAAAQHewoAAAQlLRgmBwf+Bg4AAAZzbQAACiUTBH0KAAAEEQQoFAAAKwwILBIHewgAAAR7BwAABAhvbwAACiYHewgAAAR7AQAABCgGAAArB3sJAAAEbywAAApvcAAACm9xAAAKEwUSBShyAAAKLT4CFiUKfRsAAAQCEQV9HgAABAJ8HAAABBIFAigVAAAr3nQCex4AAAQTBQJ8HgAABP4VFgAAGwIVJQp9GwAABBIFKHQAAAoNB3sIAAAEewcAAAQHewgAAAR7BAAABAlvQAAACm91AAAK3hkTBgIf/n0bAAAEAnwcAAAEEQYodgAACt4TAh/+fRsAAAQCfBwAAAQodwAACioAAEEcAAAAAAAADgAAAA8BAAAdAQAAGQAAAC4AAAE2AnwcAAAEAyh4AAAKKgAAQlNKQgEAAQAAAAAADAAAAHY0LjAuMzAzMTkAAAAABQBsAAAAKAoAACN+AACUCgAAcAwAACNTdHJpbmdzAAAAAAQXAAAIAQAAI1VTAAwYAAAQAAAAI0dVSUQAAAAcGAAA1AYAACNCbG9iAAAAAAAAAAIAAAFXF6ILCQoAAAD6ATMAFgAAAQAAAEoAAAAHAAAAHgAAABkAAAAPAAAAAwAAAHgAAAATAAAABwAAAAEAAAAEAAAABAAAAAQAAAAWAAAAAQAAAAsAAAAFAAAAFQAAAAAA3AYBAAAAAAAGAF4FFAkGALAFFAkGAIUE7wgPADQJAAAGAMsEQwYGAJcFVwcGAD8FVwcGAPwEVwcGABkFVwcGAH4FVwcGAJkEVwcGAMMK7wYKAGoDQwkKAHcINAMKAAIMDgYKAEEMEgcKAOoL+AUKAOIADgYKAKYADgYKAPoGWwkOABABJgYSADYBEAIKABQI+AUWACQI7wYKAD0BNAMGACQD7wYGACcE7wYGALAEFAkGAMQAfAkKADIEyQEKAE4LyQEaAJkLsQceAPcAFAkKAA0DyQEKAI8G+AUKAI4L+AUKACAEWwkaAGYGsQcGAGoEFAkGAHkB7wYGALIGfAkeAD4IFAkGABIE7wYGAOIDFAkGABoBFAkGAGwH7wYiAOQE7wgKAPQCyQEGACgBEAIGALYAEAImALQJLgcKANUJNAMKAIABNAMGANQAEAIqAJQD6gcGAMsA7wYOAPYJJgYOAJcIJgYGACIMfAkGAJ8A7wYeAOcJfAkGAMoD7wYKABsLWwkuAFUI7wYaAFkLsQcGAKoG7wYKAKoIqgoKALoIqgoGAGoG7wYGAJQH7wYKAIgHyQEKABEDdgcGAMgIjgoGAJ8D7wYAAAAAwAEAAAAAAQABAAEAEACFA3YDMQABAAEAAwEQACoAAAAxAAgADAADARAAAQAAADEACwAPAAMhEAAMAgAAMQAPABIAAwEQALEBAACtABIAFgADARAANAIAAK0AGwAYAAEAhwhSBAEAEgxWBAEAWAxaBAEA9gteBAEA/wFiBAEAcQZuBAEAoQp2BAYAcgl+BAYArAeCBAYAfACGBAYAZQuQBAYApQuUBAYAcgl+BAYAoAGZBDYAvAGmBBYAXgCqBBYAVwG6BAYAXwTNBAYAYAjQBAYAZQuQBAYApQuUBAYAcgl+BAEAdQDZBAEAbgHdBAEAlQHhBAEAmADwBAYAXwTNBAYAYAj8BAYAcgkBBQEAmAAFBVAgAAAAAOYB7QUOBQEAACEAAAAAgQBKAxQFAgBpIQAAAADmCd8B1gIDAGwhAAAAAOYJqwMRAQMAcyEAAAAA5gltCG0CAwB6IQAAAADmCXICHgUDAIghAAAAAOYBDQMjBQMA3SEAAAAA5gGYBjEFBQDgIQAAAADmAfwCOAUGAMAiAAAAAIYY4ggGAAgA0yIAAAAAgQAXAPEBCADhIgAAAACGGOIIBgAJAOwiAAAAAIMASQALAgkAMSMAAAAAgwCDAEQFCQBPIwAAAACGGOIIBgAKAFcjAAAAAIMAPwBKBQoAayMAAAAAgwCnAVcFCwB/IwAAAACRGOgIYAUMAIsjAAAAAIYY4ggGAAwAkyMAAAAAgwBoAGQFDACfIwAAAACDAGEBcAUNAKgjAAAAAOEBhQsGAA4AaCYAAAAA4QH1AxsADgB4JgAAAADhAYULBgAPAOwnAAAAAOEB9QMbAA8AAAABADUIAAABAFkDAAABAGULAAACAKULAAABALELAAABAKAGAAACAKULAAABADICAAABAAoCAAABAAoCAAABAAoCAAABAAoCAAABAAoCAAABAAUEAAABAAUEAgA1AAYAsQAHALEACQDiCAEAEQDiCAYAGQDiCAoAKQDiCBAAMQDiCBAAOQDiCBAAQQDiCBAASQDiCBAAUQDiCBAAWQDiCBAA4QDiCBUAOQHiCAYAYQGFCwYAYQH1AxsAeQHiCAYAmQEpAysAoQEuDFAADADVBmoAFADkCoQAHADiCJMAuQHKCpkAJABhA8IAeQD2B80ALADiCJMANADYBfoAPABkAhEByQEDBxUBPADVC4QASQHeCx8BRADiCJMA2QG5Cy4B6QGlB0UB0QBGBFIBTABYBGwBTAA1C3YBTACuBoMBIQHiCAYA8QHCC5gBIQFMBJ4BGQEGA6UBEQFMAhEBIQFaAqsBGQH2BrEBoQBMAhEBIQGQAqsBIQGBAqsBEQHvAbYBIQH3AboBGQEPC78B+QEcBMUBAQLiCAYAAQFCC8sBCQK0AxEBAQK/AxAACQJtC9EBMQHOBREBAQJ2CxAAAQKmBtcBGQLYB90BEQHLBxAAIQI7C+oBJADiCAYAYQDiCAYAiQAHCPEBUQFYBAACUQE1C3YBUQGuBgsCuQD2BrEBKQKTCRECuQArAhkCVADkCoQAJAArC20C8QDiCAYA8QCEB3EC+QBMAhEB8QBTAhAAQQIgA3gCYQBdBhEB8QCfAhAAXADiCJMASQHNBpoCZACfCMECbADkAtYCTADNAtoCbADvCoQAdADiCAYAfADiCJMAuQEsBAsDhADiCJMAjADUCFsDlAADC4QAuQF/C28DgQHiCAYAoQCxAhEBgQG9AhAAnADiCJMAuQHNC5cDgQELCasDgQECCbMDdADJAroDSQKFC9YCUQI+BAYAdAArC20CdADNC8AD8QALCcYDTABpB84DTAD5CroDTAD1AxsApADiCJMAuQHVCvoDJADmBRQEDADRChoErACfCMECtADkAtYCUQHNAtoCtADvCoQAJADJAroDUQFpB84DUQH5CgYAUQH1AxsALgALAJAFLgATAJkFLgAbALgFLgAjAMEFLgArAPcFLgAzAAsGLgA7ABgGLgBDACUGLgBLAPcFLgBTAPcFYwBjAG0GgwBjAG0GowBjAG0GwwBjAG0G4ABbADAGYAFjAG0GoAFbAHIG4AJ7AG0GIAN7AG0GIgAFAVgBjAH4ATIC1QMCAAEAAADjAX8FAACvA4MFAABxCIcFAACFAosFAgADAAMAAgAEAAUAAgAFAAcAAgAGAAkABgAsABsABgAuAB0ABwAwABsABwAyAB0AYQB4AIkAuwDjAO8ACgElAWQBKQJ9ArcCywL0AvwCMANRA2UDggPxAyUELAQEgAAAAQAAAAAAAAAAAAAAAACFAwAABAACAAEAAAAAAAAAQATTAwAAAAABAAAAAAAAAAAAAAAAAH0HAAAAAAIAAQABAAAAAAAAAEkEBwoAAAAABAABAAEAAAAAAAAAQASOCgAAAAAEAAAAAwAAAAAAAABABLcGAAAAAAIAAQABAAAAAAAAAEkEZwoAAAAABAABAAEAAAAAAAAAQAR8CQAAAAAEAAEAAQAAAAAAAABABHYGAAAAAAIAAQABAAAAAAAAAEkEMQoAAAAABAACAAEAAAAAAAAAQATqBwAAAAAEAAIAAQAAAAAAAABABJoJAAAAAAMAAgAEAAIABQACAAYAAgAHAAMAIQAzACEAOAAhAD0AIQBCACEARwAjAFwAKwC0AC8A2gA/AD8BRwB+AYUABgIrAI0CowCwAqkA5QKxACUDKwBCA7kAfAMrAI4DwwClA90ADwTnADQEAAAAPD5jX19EaXNwbGF5Q2xhc3MxN18wADxJbml0aWFsaXplPmJfXzdfMAA8PmNfX0Rpc3BsYXlDbGFzczhfMAA8QmlkPmJfXzAAPFByb2Nlc3NNZXNzYWdlPmJfXzAAPD45X18xN18xADxCaWQ+Yl9fMTdfMQA8PjhfXzEAPD45X18xADxQcm9jZXNzTWVzc2FnZT5iX18xADw+dV9fMQBGdW5jYDEATHVjZW50TWVzc2FnZWAxAElFbnVtZXJhYmxlYDEAVGFza2AxAEFjdGlvbmAxAElDb2xsZWN0aW9uYDEASU1lc3NhZ2VTdWJzY3JpYmVyYDEAQXN5bmNUYXNrTWV0aG9kQnVpbGRlcmAxAElMb2dnZXJgMQBUYXNrQXdhaXRlcmAxAElFbnVtZXJhdG9yYDEATGlzdGAxAElCYXNpY1N0b3JhZ2VSZXBvc2l0b3J5YDEAPD45X18xN18yADxCaWQ+Yl9fMTdfMgA8cmVzcD41X18yAEZ1bmNgMgBJU3RvcmFnZVJlcG9zaXRvcnlgMgA8Ymlkcz41X18zADw+OV9fMwA8QmlkPmJfXzMAPEJpZD5kX18xNwA8PjkAPE1vZHVsZT4ATHVjZW50LkNvbW1vbi5PcGVuUlRCAGdldF9TdXBwcmVzc0JPTQBnZXRfQ1BNAHNldF9DUE0AX2NhbXBhaWduU3ViADw+YwBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYwBCaWRBc3luYwA8PFByb2Nlc3NNZXNzYWdlPmJfXzA+ZABnZXRfSWQAc2V0X0lkAHNldF9CaWRJZABnZXRfTWVzc2FnZUlkAGdldF9FeGNoYW5nZUlkAHNldF9FeGNoYW5nZUlkAHNldF9DYW1wYWlnbklkAHNldF9Db3JyZWxhdGlvbklkAGdldF9CdXllcklkAHNldF9CdXllcklkAEFkZABBd2FpdFVuc2FmZU9uQ29tcGxldGVkAGdldF9Jc0NvbXBsZXRlZABTZWF0QmlkAEZvcm1hdEJpZABnZXRfUmF3QmlkAFNlcXVlbnRpYWxHdWlkAE5leHRHdWlkAEdldFNlcnZpY2UATHVjZW50LkNvbW1vbi5TdG9yYWdlAFByb2Nlc3NNZXNzYWdlAG1lc3NhZ2UAQWRkUmFuZ2UASUFkRXhjaGFuZ2UATHVjZW50LlNhbXBsZXMuU2ltcGxlRXhjaGFuZ2UARW51bWVyYWJsZQBJRGlzcG9zYWJsZQBnZXRfTmFtZQBnZXRfU2NoZW1lAHNldF9TY2hlbWUARGF0ZVRpbWUAU3lzdGVtLlJ1bnRpbWUASUFzeW5jU3RhdGVNYWNoaW5lAFNldFN0YXRlTWFjaGluZQBzdGF0ZU1hY2hpbmUAVmFsdWVUeXBlAGdldF9Db250ZW50VHlwZQBXaGVyZQBCaWRSZXNwb25zZQBEaXNwb3NlAFBhcnNlAHNldF9CaWREYXRlAENyZWF0ZQA8PjFfX3N0YXRlAENvbXBpbGVyR2VuZXJhdGVkQXR0cmlidXRlAERlYnVnZ2FibGVBdHRyaWJ1dGUAQXNzZW1ibHlUaXRsZUF0dHJpYnV0ZQBBc3luY1N0YXRlTWFjaGluZUF0dHJpYnV0ZQBUYXJnZXRGcmFtZXdvcmtBdHRyaWJ1dGUARGVidWdnZXJIaWRkZW5BdHRyaWJ1dGUAQXNzZW1ibHlGaWxlVmVyc2lvbkF0dHJpYnV0ZQBBc3NlbWJseUluZm9ybWF0aW9uYWxWZXJzaW9uQXR0cmlidXRlAEFzc2VtYmx5Q29uZmlndXJhdGlvbkF0dHJpYnV0ZQBDb21waWxhdGlvblJlbGF4YXRpb25zQXR0cmlidXRlAEFzc2VtYmx5UHJvZHVjdEF0dHJpYnV0ZQBBc3NlbWJseUNvbXBhbnlBdHRyaWJ1dGUAUnVudGltZUNvbXBhdGliaWxpdHlBdHRyaWJ1dGUAZ2V0X1ZhbHVlAHNldF9PblJlY2VpdmUAUmVtb3ZlAEluaXRpYWxpemUATHVjZW50LkNvbW1vbi5CaWRkaW5nAEx1Y2VudC5Db21tb24uTWVzc2FnaW5nAE1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcAU3lzdGVtLlJ1bnRpbWUuVmVyc2lvbmluZwBUb1N0cmluZwBIb3N0U3RyaW5nAF9sb2cAU3lzdGVtLkRpYWdub3N0aWNzLkRlYnVnAEJpZE1hdGNoAElzTWF0Y2gAbWF0Y2gAZ2V0X1VyaQBnZXRfVGFzawBTeXN0ZW0uQ29tcG9uZW50TW9kZWwAV2hlbkFsbABHZXRBbGwAU2ltcGxlRXhjaGFuZ2UuZGxsAFN5c3RlbQBnZXRfQ2FtcGFpZ24ATG9nSW5mb3JtYXRpb24ATHVjZW50LkNvbW1vbi5TZXJpYWxpemF0aW9uAE1pY3Jvc29mdC5FeHRlbnNpb25zLkRlcGVuZGVuY3lJbmplY3Rpb24AU3lzdGVtLlJlZmxlY3Rpb24AU2V0RXhjZXB0aW9uAEx1Y2VudC5Db21tb24Ac2V0X05vQmlkUmVhc29uAFN0cmluZ0NvbXBhcmlzb24AVW53cmFwAGNhbXAATWljcm9zb2Z0LkFzcE5ldENvcmUuSHR0cABzZXRfQWRNYXJrdXAAVG9JbWFnZUxpbmtNYXJrdXAAU3lzdGVtLkxpbnEAQ3JlYXRlU3Vic2NyaWJlcgBDcmVhdGVCaWRkZXIASUNhbXBhaWduQmlkZGVyAElTZXJ2aWNlUHJvdmlkZXIAcHJvdmlkZXIAQXN5bmNUYXNrTWV0aG9kQnVpbGRlcgBVcmlCdWlsZGVyADw+dF9fYnVpbGRlcgBnZXRfT3JkZXIASVN0b3JhZ2VNYW5hZ2VyAF9zdG9yYWdlTWFuYWdlcgBJTG9nZ2VyAEdldEF3YWl0ZXIAQmFubmVyRm9ybWF0dGVyAFZhc3RGb3JtYXR0ZXIASUVudW1lcmF0b3IAR2V0RW51bWVyYXRvcgAuY3RvcgAuY2N0b3IAU3lzdGVtLkRpYWdub3N0aWNzAGdldF9CaWRzAHNldF9CaWRzAFN5c3RlbS5SdW50aW1lLkNvbXBpbGVyU2VydmljZXMARGVidWdnaW5nTW9kZXMATHVjZW50LkNvbW1vbi5FeGNoYW5nZXMATHVjZW50LkNvbW1vbi5FbnRpdGllcwA8PjRfX3RoaXMAU3lzdGVtLlRocmVhZGluZy5UYXNrcwBFcXVhbHMAU3lzdGVtLlJ1bnRpbWUuRXh0ZW5zaW9ucwBTZXJ2aWNlUHJvdmlkZXJTZXJ2aWNlRXh0ZW5zaW9ucwBTdG9yYWdlRXh0ZW5zaW9ucwBUYXNrRXh0ZW5zaW9ucwBMb2dnZXJFeHRlbnNpb25zAE1pY3Jvc29mdC5FeHRlbnNpb25zLkxvZ2dpbmcuQWJzdHJhY3Rpb25zAE1pY3Jvc29mdC5FeHRlbnNpb25zLkRlcGVuZGVuY3lJbmplY3Rpb24uQWJzdHJhY3Rpb25zAE1pY3Jvc29mdC5Bc3BOZXRDb3JlLkh0dHAuQWJzdHJhY3Rpb25zAFN5c3RlbS5Db2xsZWN0aW9ucwBfYmlkZGVycwBMdWNlbnQuQ29tbW9uLkZvcm1hdHRlcnMAT2JqZWN0AFNlbGVjdABHZXQARmlyc3RPckRlZmF1bHQAZ2V0X1Jlc3VsdABHZXRSZXN1bHQAU2V0UmVzdWx0AGdldF9DdXJyZW50AGdldF9Db250ZW50AENyZWF0aXZlQ29udGVudABnZXRfQ291bnQAU3RhcnQAVG9WYXN0AGdldF9SZXF1ZXN0AEJpZFJlcXVlc3QASHR0cFJlcXVlc3QAcmVxdWVzdABnZXRfSG9zdABzZXRfSG9zdABGaXJzdABNb3ZlTmV4dABCaWRDb250ZXh0AEh0dHBDb250ZXh0AGh0dHBDb250ZXh0AGNvbnRleHQAU3RhcnROZXcAZ2V0X1V0Y05vdwBUb0FycmF5AGdldF9Cb2R5AGdldF9GYWN0b3J5AElCaWRGYWN0b3J5AF9iaWRGYWN0b3J5AElNZXNzYWdlRmFjdG9yeQBfbWVzc2FnZUZhY3RvcnkAVGFza0ZhY3RvcnkAR2V0QmFzaWNSZXBvc2l0b3J5AElTZXJpYWxpemF0aW9uUmVnaXN0cnkAX3NlcmlhbGl6YXRpb25SZWdpc3RyeQAAABFiAGkAZABzAHQAYQB0AGUAABVjAGEAbQBwAGEAaQBnAG4ALgAjAAAxUgBlAGMAZQBpAHYAZQBkACAAbgBlAHcAIABtAGUAcwBzAGEAZwBlACAAewAwAH0AAB1TAGkAbQBwAGwAZQBFAHgAYwBoAGEAbgBnAGUAAEk5ADMANgAzAGEAYQBlADQALQBhADMAMAA1AC0ANAAzAGUANgAtAGIAMABiAGUALQBhADIAZgA1AGMAZABhADEAZQBkAGYAZgABQ0MAYQBtAHAAYQBpAGcAbgAgAHsAMAB9ACAAdQBwAGQAYQB0AGUAZABlAGQALAAgAHIAZQBsAG8AYQBkAGkAbgBnAAAALdEL+c95nU6kBgFUG6NgiAAEIAEBCAMgAAEFIAEBEREEIAEBDgUgAQESbQYgAQESgLEIBwEVEmUBElEHEAEBHgASYQQKARI5BAoBEj0ECgESQQQKARJFCAoBFRJVARIICxABARUSZQEeABI5BAoBElEIFRKA1QISUQ4NIAAVEnUBFRKA2QETAAsVEnUBFRKA2QESUQQgABMACRUSgKECElESXQUgAgEcGBoQAgIVEoDJAR4BFRKAyQEeABUSgKECHgAeAQYKAhJREl0GFRJZARJdCiABARUSgMkBEwAMMAEDFRJJAR4ADgcOCAoBFRJNARJRCxUSgOEBFRJNARJRChUSSQEVEk0BElEKIAEBFRKA4QETAAQHARIMBhUSTQESUQMgAA4JAAMBEoDpDh0cBQAAEoDtCBUSgPEBEoClEDABARUSdQEeABUSgPEBHgAFCgESgKUMAAESgKUVEnUBEoClBQABEWkOCwcCERgVEYCFARJ5BxURgIUBEnkJAAAVEYCFARMABzABAQEQHgAECgERGAggABUSdQETAAsHAxKAkRGAlRGAmQUAABGA+QYgAQERgPkFIAASgIkFIAEBEWkEIAASUQMgAA0EIAEBDQUgABKA/QUgABGAlQUgABKBBQUgABGAmQUgABKBCQwAAw4SgI0SgJESgQkGAAEOEoCNBiABEl0SUQcHAhEcEYCpBQAAEYCpBAoBERwFIAASgKUHIAICDhGBGQ8gAhUSdQEdEoCNEn0SgIEIFRJ1AR0SgI06BwwIEggSeRUSWQESgMERaRURgLUBHR0SgI0VEoDFAR0SgI0dEoCNElESgMEVEoChAhKAjRKAiRKAuQMgAAgGIAEBEYEdBAAAEWkPFRKAoQISXRUSdQEdEoCNDAoCEl0VEnUBHRKAjRUQAQEVEnUBHR4AFRKAyQEVEnUBHgAGCgEdEoCNCRUSdQEdHRKAjQkgABURgLUBEwAKFRGAtQEdHRKAjQMgAAIKMAICARAeABAeAQ4KAhURgLUBHR0SgI0RGAcVElkBEoDBDhUSgKECFRJ1AR0SgI0CGRABAhUSgMkBHgAVEoDJAR4AFRKAoQIeAAIKCgEVEnUBHRKAjREVEoChAhUSdQEdEoCNHRKAjQ4KAhUSdQEdEoCNHRKAjQkVEoDJAR0SgI0JIAAVEoDFARMACRUSgMUBHRKAjQwQAQEeABUSgMkBHgAFCgESgI0LFRKAoQISgI0SgIkICgISgI0SgIkNEAEBHR4AFRKAyQEeAAUKARKAiQcgAQEdEoCJBiAAHRKAiQUgAQETAAUgAB0TAAcgAQEdEoDBBiABARKAuRsHBwgSDBJdElEVEoChAhJdAhURgLUBElESgLkIFRKAoQISXQIUEAECHgAVEoDJAR4AFRKAoQIeAAIECgESXQUgAQITAAogARUSdQETABMBBhUSdQESUQcVEYC1ARJRCwoCFRGAtQESUREcCLA/X38R1Qo6CK25eTgp3a5gAwYSOQMGEj0DBhJBAwYSRQsGFRJJARUSTQESUQcGFRJVARIIBwYVElkBEl0DBhIIAwYSUQkGFRKAoQISXQIDBhJ9BAYSgIEMBhUSgKECEoCNEoCJAwYSFA8GFRKAoQIVEnUBHRKAjQISBhUSgKECFRJ1AR0SgI0dEoCNAgYICAYVEYCFARJ5AwYSEAMGEnkOBhUSgMkBFRJ1AR0SgI0LBhURgLUBHR0SgI0EBhGAqQMGEgwIBhURgLUBElEFIAEBEmEJIAEBFRJNARJRBCAAEWkNIAIVEnUBEnkSfRKAgQYgAQISgIELIAISgIkSgI0SgIEFIAECEl0MIAEVEnUBHRKAjRJdCCABEoCJEoCNAwAAAQsgAQIVEnUBHRKAjQ4gAR0SgI0VEnUBHRKAjQMoAAIDKAAOAygACAQoABFpCAEACAAAAAAAHgEAAQBUAhZXcmFwTm9uRXhjZXB0aW9uVGhyb3dzAQgBAAIAAAAAADUBABguTkVUQ29yZUFwcCxWZXJzaW9uPXYyLjEBAFQOFEZyYW1ld29ya0Rpc3BsYXlOYW1lABMBAA5TaW1wbGVFeGNoYW5nZQAADAEAB1JlbGVhc2UAAAwBAAcxLjAuMC4wAAAKAQAFMS4wLjAAADwBADdMdWNlbnQuU2FtcGxlcy5TaW1wbGVFeGNoYW5nZS5TaW1wbGVFeGNoYW5nZSs8QmlkPmRfXzE3AAAEAQAAAF4BAFlMdWNlbnQuU2FtcGxlcy5TaW1wbGVFeGNoYW5nZS5TaW1wbGVFeGNoYW5nZSs8PmNfX0Rpc3BsYXlDbGFzczhfMCs8PFByb2Nlc3NNZXNzYWdlPmJfXzA+ZAAAAAAAAAAAALJXU/gAAU1QAgAAAJAAAABARwAAQCkAAAAAAAAAAAAAAQAAABMAAAAnAAAA0EcAANApAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAUlNEU9LulG67WjJPheAF/SUKI1IBAAAAL2hvbWUvbm5vcnRoY3V0dC9Db2RlL2dpdGh1Yi90ZWxlZnJlay9sdWNlbnQtYmlkZGVyL1NhbXBsZXMvU2ltcGxlRXhjaGFuZ2Uvb2JqL1JlbGVhc2UvbmV0Y29yZWFwcDIuMS9TaW1wbGVFeGNoYW5nZS5wZGIAU0hBMjU2ANLulG67WjJvheAF/SUKI1KyV1N4A+Zy8ho/6gsNDHq8H0gAAAAAAAAAAAAAOUgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtIAAAAAAAAAAAAAAAAX0NvckRsbE1haW4AbXNjb3JlZS5kbGwAAAAAAAD/JQAgABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAEAAAABgAAIAAAAAAAAAAAAAAAAAAAAEAAQAAADAAAIAAAAAAAAAAAAAAAAAAAAEAAAAAAEgAAABYYAAA/AIAAAAAAAAAAAAA/AI0AAAAVgBTAF8AVgBFAFIAUwBJAE8ATgBfAEkATgBGAE8AAAAAAL0E7/4AAAEAAAABAAAAAAAAAAEAAAAAAD8AAAAAAAAABAAAAAIAAAAAAAAAAAAAAAAAAABEAAAAAQBWAGEAcgBGAGkAbABlAEkAbgBmAG8AAAAAACQABAAAAFQAcgBhAG4AcwBsAGEAdABpAG8AbgAAAAAAAACwBFwCAAABAFMAdAByAGkAbgBnAEYAaQBsAGUASQBuAGYAbwAAADgCAAABADAAMAAwADAAMAA0AGIAMAAAAD4ADwABAEMAbwBtAHAAYQBuAHkATgBhAG0AZQAAAAAAUwBpAG0AcABsAGUARQB4AGMAaABhAG4AZwBlAAAAAABGAA8AAQBGAGkAbABlAEQAZQBzAGMAcgBpAHAAdABpAG8AbgAAAAAAUwBpAG0AcABsAGUARQB4AGMAaABhAG4AZwBlAAAAAAAwAAgAAQBGAGkAbABlAFYAZQByAHMAaQBvAG4AAAAAADEALgAwAC4AMAAuADAAAABGABMAAQBJAG4AdABlAHIAbgBhAGwATgBhAG0AZQAAAFMAaQBtAHAAbABlAEUAeABjAGgAYQBuAGcAZQAuAGQAbABsAAAAAAAoAAIAAQBMAGUAZwBhAGwAQwBvAHAAeQByAGkAZwBoAHQAAAAgAAAATgATAAEATwByAGkAZwBpAG4AYQBsAEYAaQBsAGUAbgBhAG0AZQAAAFMAaQBtAHAAbABlAEUAeABjAGgAYQBuAGcAZQAuAGQAbABsAAAAAAA+AA8AAQBQAHIAbwBkAHUAYwB0AE4AYQBtAGUAAAAAAFMAaQBtAHAAbABlAEUAeABjAGgAYQBuAGcAZQAAAAAAMAAGAAEAUAByAG8AZAB1AGMAdABWAGUAcgBzAGkAbwBuAAAAMQAuADAALgAwAAAAOAAIAAEAQQBzAHMAZQBtAGIAbAB5ACAAVgBlAHIAcwBpAG8AbgAAADEALgAwAC4AMAAuADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAwAAABMOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=
---
apiVersion: apps/v1beta2
kind: Deployment
metadata:
  name: {{ template "bidder.fullname" . }}
  labels:
    app: {{ template "bidder.name" . }}
    chart: {{ template "bidder.chart" . }}
    release: {{ .Release.Name }}
    heritage: {{ .Release.Service }}
spec:
  replicas: {{ .Values.replicaCount }}
  strategy:
    rollingUpdate:
      maxSurge: 25%
      maxUnavailable: 25%
    type: RollingUpdate
  minReadySeconds: 5
  progressDeadlineSeconds: 600
  selector:
    matchLabels:
      app: {{ template "bidder.name" . }}
      release: {{ .Release.Name }}
  template:
    metadata:
      labels:
        app: {{ template "bidder.name" . }}
        release: {{ .Release.Name }}
        component: bidder
    spec:
      restartPolicy: Always
      dnsPolicy: ClusterFirst
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
    {{- with .Values.hostAlias }}
      hostAliases:
{{ toYaml . | indent 6 }}
    {{- end }}
      containers:
        - name: {{ .Chart.Name }}
          image: "{{ .Values.image.repository }}:{{ .Values.image.tag }}"
          imagePullPolicy: {{ .Values.image.pullPolicy }}
          command:
            - "/bin/sh"
            - "-ec"
            - |
              echo "Getting configuration"
              cp /etc/config/*.json ./

              echo "Starting the bidder"
              dotnet Bidder.dll
          volumeMounts:
            - mountPath: /etc/config
              name: app-config
            - mountPath: /etc/exchanges
              name: exchange-config
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /health
              port: http
          readinessProbe:
            httpGet:
              path: /ready
              port: http
          resources:
{{ toYaml .Values.resources | indent 12 }}
    {{- with .Values.nodeSelector }}
      nodeSelector:
{{ toYaml . | indent 8 }}
    {{- end }}
    {{- with .Values.affinity }}
      affinity:
{{ toYaml . | indent 8 }}
    {{- end }}
    {{- with .Values.tolerations }}
      tolerations:
{{ toYaml . | indent 8 }}
    {{- end }}
      volumes:
        - name: app-config
          configMap:
            name: bidder-config
        - name: exchange-config
          configMap:
            name: exchanges
